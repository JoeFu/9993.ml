<!DOCTYPE html>
<html>
<head>
<title>Joe's Personal Blog</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="keywords" content="Persoanl Blog" />
<link rel="icon" href="images/fav.ico" type="image/x-icon" />
<link rel="shortcut icon" href="images/fav.ico" type="image/x-icon" />
<script src="js/jquery-2.2.3.min.js"></script>
<script src="js/owl.carousel.js"></script>
<script src="http://api.map.baidu.com/api?v=1.4" type="text/javascript"></script>
</head>

<body>

<h1>This website is under construction, Please visit later</h1>
<h2 id ='link'>Or you can runing weather application</h2>
<button onclick="{location.href='http://fuzeqi.ml/weather/'}"> Go to weather</button>
<!--This is test location page-->
<script type="text/javascript" >

function getLocation() {
    var options = {
        enableHighAccuracy : true,
        maximumAge : 1000
    }
    alert('本应用将会获取您的位置信息，请点击允许！');
    if (navigator.geolocation) {
        //浏览器支持geolocation
        navigator.geolocation.getCurrentPosition(onSuccess, onError, options);
    } else {
        //浏览器不支持geolocation
        alert('您的浏览器不支持地理位置定位！');
    }
}

//成功时
function onSuccess(position) {
    //返回用户位置
    //经度
    var longitude = position.coords.longitude;
    //纬度
    var latitude = position.coords.latitude;
    alert('您当前地址的经纬度：经度' + longitude + '，纬度' + latitude);
    //根据经纬度获取地理位置，不太准确，获取城市区域还是可以的
    var map = new BMap.Map("allmap");
    var point = new BMap.Point(longitude, latitude);
    var gc = new BMap.Geocoder();
    gc.getLocation(point, function(rs) {
        var addComp = rs.addressComponents;
        alert("You located in :"+ addComp.province + ", " + addComp.city + ", "+ addComp.district + ", " + addComp.street + ", "+ addComp.streetNumber);
    });
    // 这里后面可以写你的后续操作了
    postData(longitude, latitude);
}
//失败时
function onError(error) {
    switch (error.code) {
        case 1:
            alert("位置服务被拒绝");
            break;
        case 2:
            alert("暂时获取不到位置信息");
            break;
        case 3:
            alert("获取信息超时");
            break;
        case 4:
            alert("未知错误");
            break;
    }
    // 这里后面可以写你的后续操作了
    //经度
    var longitude = 23.1823780000;
    //纬度
    var latitude = 113.4233310000;
    postData(longitude, latitude);
}

// 页面载入时请求获取当前地理位置
window.onload = function(){
    // html5获取地理位置
    getLocation();
};
</script>

	<!-- copyrights -->
	<div class="copy-rights wthree">
		<p>© Joe All Rights Reserved | Design by <a href="index.html" target="_blank">Joe</a></p>
	</div>
	<!-- //copyright -->
</body>
</html>
